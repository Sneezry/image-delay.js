(function(k,w){var n=!1,p=0,l=document.getElementsByTagName("html")[0].getAttribute("data-delay-timeout"),h=document.getElementsByTagName("html")[0].getAttribute("data-delay-batch"),l=!l||isNaN(l)?10:Number(l),t=function(a){var b=getComputedStyle(a,null).getPropertyValue("background-image");a=b.match(/^\s*\-webkit\-image\-set\((.*?)\)\s*$/);var e,c=1;a=(a?a[1]:b).split(",");for(b=0;b<a.length;b++)a[b].match(/1x\s*$/)&&1===c&&(e=a[b].match(/url\([\s"']*(.*?)[\s"']*\)/)),a[b].match(/2x\s*$/)&&1<k.devicePixelRatio&&
2>c&&(c=2,e=a[b].match(/url\([\s"']*(.*?)[\s"']*\)/)),a[b].match(/3x\s*$/)&&2<k.devicePixelRatio&&3>c&&(c=3,e=a[b].match(/url\([\s"']*(.*?)[\s"']*\)/));e||(e=a[0].match(/url\([\s"']*(.*?)[\s"']*\)/));return e?e[1]:null},u=function(a,b){var e,c=!1,f=a.getAttribute("data-image-delay-wait"),g=document.createElement("img"),f=!f||isNaN(f)?5:Number(f);a.removeAttribute("data-delay-index");e=t(a);g.src=e;g.onload=function(){c||(c=!0,a.removeAttribute("data-image-delay-wait"),b())};g.onerror=function(){c||
(c=!0,a.removeAttribute("data-image-delay-wait"),a.setAttribute("data-image-delay-error","true"),b())};setTimeout(function(){c||(c=!0,a.removeAttribute("data-image-delay-wait"),b())},1E3*f)},v=function(a,b){if(a.getAttribute("data-delay-src")||a.getAttribute("data-delay-setsrc")){var e,c=!1,f=a.getAttribute("data-image-delay-wait"),f=!f||isNaN(f)?5:Number(f);if(e=a.getAttribute("data-delay-setsrc"))a.setsrc=e;if(e=a.getAttribute("data-delay-src"))a.src=e;a.onload=function(){c||(c=!0,a.removeAttribute("data-image-delay-wait"),
b())};a.onerror=function(){c||(c=!0,a.removeAttribute("data-image-delay-wait"),a.setAttribute("data-image-delay-error","true"),b())};setTimeout(function(){c||(c=!0,a.removeAttribute("data-image-delay-wait"),b())},1E3*f)}else u(a,b)},q=function(a){var b,e,c=[],f=[];a.sort(function(a,b){return a.getAttribute("data-delay-index")-b.getAttribute("data-delay-index")});e=a[0].getAttribute("data-delay-index");for(b=0;b<a.length;b++)e!==a[b].getAttribute("data-delay-index")&&(f.push(c),c=[],e=a[b].getAttribute("data-delay-index")),
c.push(a[b]);f.push(c);return f},r=function(a,b){b=b||0;if(b>=a.length)document.getElementsByTagName("html")[0].setAttribute("data-delay-end","true"),document.getElementsByTagName("html")[0].removeAttribute("data-delay-batch"),n=!1,p=0;else{var e,c=0;for(e=0;e<a[b].length;e++)a[b][e].removeAttribute("data-delay-index"),a[b][e].setAttribute("data-delay-start","true"),v(a[b][e],function(){c++;c===a[b].length&&r(a,b+1)})}},m=function(){var a,b,e=0,c=[],f=[],g=[],d=document.all;document.getElementsByTagName("html")[0].setAttribute("data-delay-start",
"true");a=0;for(b=d.length;a<b;a++)if(d[a].getAttribute("ng-delay-src")&&!d[a].getAttribute("data-delay-src")&&10>p){setTimeout(m,500);p++;return}if(!n){n=!0;if(h&&!isNaN(h)&&0<Number(h)){h=Number(h);a=0;for(b=d.length;a<b;a++)if(d[a].getAttribute("data-delay-src")||d[a].getAttribute("data-delay-setsrc")||null!==d[a].getAttribute("data-image-delay")||null!==d[a].getAttribute("data-image-delay-wait"))c.push(d[a]),e++,0===e%h&&(f.push(c),c=[],e=0);0<c.length&&f.push(c)}else{a=0;for(b=d.length;a<b;a++)if((d[a].getAttribute("data-delay-src")||
d[a].getAttribute("data-delay-setsrc")||null!==d[a].getAttribute("data-image-delay")||null!==d[a].getAttribute("data-image-delay-wait"))&&!d[a].getAttribute("data-delay-index"))for(c=d[a].parentNode;c&&c.getAttribute;){if(e=c.getAttribute("data-delay-index")){d[a].setAttribute("data-delay-index",e);break}c=c.parentNode}a=0;for(b=d.length;a<b;a++)null===d[a].getAttribute("data-delay-src")&&null===d[a].getAttribute("data-delay-setsrc")&&null===d[a].getAttribute("data-image-delay")&&null===d[a].getAttribute("data-image-delay-wait")&&
d[a].getAttribute("data-delay-index")&&d[a].removeAttribute("data-delay-index");a=0;for(b=d.length;a<b;a++)null===d[a].getAttribute("data-image-delay")&&!d[a].getAttribute("data-delay-src")||d[a].getAttribute("data-delay-index")&&!isNaN(d[a].getAttribute("data-delay-index"))?d[a].getAttribute("data-delay-index")&&!isNaN(d[a].getAttribute("data-delay-index"))&&(null!==d[a].getAttribute("data-image-delay")||null!==d[a].getAttribute("data-image-delay-wait")||d[a].getAttribute("data-delay-src")||d[a].getAttribute("data-delay-setsrc"))&&
g.push(d[a]):f.push(d[a]);0<f.length&&0<g.length?f=[f].concat(q(g)):0<f.length?f=[f]:0<g.length&&(f=q(g))}0<f.length&&r(f)}};null===document.getElementsByTagName("html")[0].getAttribute("data-delay-passive")&&(k.onload=function(){setTimeout(m,0)},setTimeout(m,1E3*l));k.imageDelayStart=m;k.imageDelayInit=function(){document.getElementsByTagName("html")[0].removeAttribute("data-delay-start");document.getElementsByTagName("html")[0].removeAttribute("data-delay-end");h&&document.getElementsByTagName("html")[0].setAttribute("data-delay-batch",
h)}})(window);